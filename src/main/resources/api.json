{
  "openapi": "3.0.2",
  "info": {
    "title": "Whisper Asr Webservice",
    "description": "Whisper ASR Webservice is a general-purpose speech recognition webservice.",
    "contact": {
      "url": "https://github.com/ahmetoner/whisper-asr-webservice/"
    },
    "license": {
      "name": "MIT License",
      "url": "https://github.com/ahmetoner/whisper-asr-webservice/blob/main/LICENCE"
    },
    "version": "1.1.1"
  },
  "paths": {
    "/asr": {
      "post": {
        "tags": [
          "Endpoints"
        ],
        "summary": "Asr",
        "operationId": "asr_asr_post",
        "parameters": [
          {
            "required": false,
            "schema": {
              "title": "Task",
              "enum": [
                "transcribe",
                "translate"
              ],
              "type": "string",
              "default": "transcribe"
            },
            "name": "task",
            "in": "query"
          },
          {
            "required": false,
            "schema": {
              "title": "Language",
              "enum": [
                "af",
                "am",
                "ar",
                "as",
                "az",
                "ba",
                "be",
                "bg",
                "bn",
                "bo",
                "br",
                "bs",
                "ca",
                "cs",
                "cy",
                "da",
                "de",
                "el",
                "en",
                "es",
                "et",
                "eu",
                "fa",
                "fi",
                "fo",
                "fr",
                "gl",
                "gu",
                "ha",
                "haw",
                "he",
                "hi",
                "hr",
                "ht",
                "hu",
                "hy",
                "id",
                "is",
                "it",
                "ja",
                "jw",
                "ka",
                "kk",
                "km",
                "kn",
                "ko",
                "la",
                "lb",
                "ln",
                "lo",
                "lt",
                "lv",
                "mg",
                "mi",
                "mk",
                "ml",
                "mn",
                "mr",
                "ms",
                "mt",
                "my",
                "ne",
                "nl",
                "nn",
                "no",
                "oc",
                "pa",
                "pl",
                "ps",
                "pt",
                "ro",
                "ru",
                "sa",
                "sd",
                "si",
                "sk",
                "sl",
                "sn",
                "so",
                "sq",
                "sr",
                "su",
                "sv",
                "sw",
                "ta",
                "te",
                "tg",
                "th",
                "tk",
                "tl",
                "tr",
                "tt",
                "uk",
                "ur",
                "uz",
                "vi",
                "yi",
                "yo",
                "zh"
              ],
              "type": "string"
            },
            "name": "language",
            "in": "query"
          },
          {
            "required": false,
            "schema": {
              "title": "Initial Prompt",
              "type": "string"
            },
            "name": "initial_prompt",
            "in": "query"
          },
          {
            "description": "Encode audio first through ffmpeg",
            "required": false,
            "schema": {
              "title": "Encode",
              "type": "boolean",
              "description": "Encode audio first through ffmpeg",
              "default": true
            },
            "name": "encode",
            "in": "query"
          },
          {
            "required": false,
            "schema": {
              "title": "Output",
              "enum": [
                "txt",
                "vtt",
                "srt",
                "tsv",
                "json"
              ],
              "type": "string",
              "default": "txt"
            },
            "name": "output",
            "in": "query"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_asr_asr_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/detect-language": {
      "post": {
        "tags": [
          "Endpoints"
        ],
        "summary": "Detect Language",
        "operationId": "detect_language_detect_language_post",
        "parameters": [
          {
            "description": "Encode audio first through ffmpeg",
            "required": false,
            "schema": {
              "title": "Encode",
              "type": "boolean",
              "description": "Encode audio first through ffmpeg",
              "default": true
            },
            "name": "encode",
            "in": "query"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_detect_language_detect_language_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Body_asr_asr_post": {
        "title": "Body_asr_asr_post",
        "required": [
          "audio_file"
        ],
        "type": "object",
        "properties": {
          "audio_file": {
            "title": "Audio File",
            "type": "string",
            "format": "binary"
          }
        }
      },
      "Body_detect_language_detect_language_post": {
        "title": "Body_detect_language_detect_language_post",
        "required": [
          "audio_file"
        ],
        "type": "object",
        "properties": {
          "audio_file": {
            "title": "Audio File",
            "type": "string",
            "format": "binary"
          }
        }
      },
      "HTTPValidationError": {
        "title": "HTTPValidationError",
        "type": "object",
        "properties": {
          "detail": {
            "title": "Detail",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            }
          }
        }
      },
      "ValidationError": {
        "title": "ValidationError",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "type": "object",
        "properties": {
          "loc": {
            "title": "Location",
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            }
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        }
      }
    }
  }
}